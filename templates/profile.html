{% extends "base.html" %}

{% block content %}
<div class="card">
    <h1>My Profile</h1>
    <p>Update your profile information</p>
</div>

<div class="card">
    <h2>Profile Information</h2>
    <form method="POST">
        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" value="{{ user[1] }}" disabled>
            <small style="color: #ccc;">Username cannot be changed</small>
        </div>
        
        <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" value="{{ user[2] }}" disabled>
            <small style="color: #ccc;">Email cannot be changed</small>
        </div>
        
        <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" name="phone" class="form-control" value="{{ user[5] if user|length > 5 else '' }}" placeholder="+254 700 000 000">
            <small style="color: #ccc;">Other players can contact you during matches</small>
        </div>
        
        <button type="submit" class="btn">Update Profile</button>
    </form>
</div>

<div class="card">
    <h2>Gaming Stats</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number">{{ user[6] or 0 }}</div>
            <div class="stat-label">Wins</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">{{ user[7] or 0 }}</div>
            <div class="stat-label">Losses</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">KSh {{ "%.0f"|format((user[8] or 0)|float) }}</div>
            <div class="stat-label">Total Earnings</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">{{ "%.1f"|format(((user[6] or 0) * 100.0 / ((user[6] or 0) + (user[7] or 0))) if ((user[6] or 0) + (user[7] or 0)) > 0 else 0) }}%</div>
            <div class="stat-label">Win Rate</div>
        </div>
    </div>
</div>
{% endblock %}